START: ;Trapezoid
CLR P0.7;
STEP EQU 04H
W EQU 31H

ORIGIN:
MOV A,#00H;

LEFT:
MOV P1,A;
ADD A,#STEP;
CJNE A,#200,LEFT;
MOV A,P1;
MOV R7,#W;

UP: DJNZ R7,UP;

RIGHT:
MOV P1,A;
SUBB A,#STEP;
JNZ RIGHT;
MOV P1,#00H;
MOV R7,#W;

DOWN: DJNZ R7,DOWN;
SJMP ORIGIN; final